using System.Threading.Tasks;
using EfCore.TestDataLayer;
using EFCore.TestHelper;
using Microsoft.EntityFrameworkCore;
using Microsoft.VisualStudio.TestTools.UnitTesting;

namespace EfCore.Extensions.Tests;

[TestClass]
public class DynamicOrderTests
{
    [TestMethod]
    public async Task MultiDynamicOrders()
    {
        var result = await UnitTestSetup.Db.Set<User>()
            .AsQueryable()
            .OrderByDynamics(new DynamicOrderInfo("FirstName", OrderingDirection.Asc), new DynamicOrderInfo("Account.UserName", OrderingDirection.Desc))
            .ToListAsync();
    }
}